# AWS Well-Architected Framework(Book)

### AWS Well-Architected Framework

- 다양한 클라우드 서비스를 제공해온 경험을 베스트프랙티스의집합으로써 정리한 것

### AWS Well-Architected Framework구성

1. 운용상 우수성
2. 세큐리티
3. 신뢰성
4. 퍼포먼스효율
5. 코스트최적화
6. 지속가능성

- 위의 6개 항목을 바탕으로 각 종목의 클라우드활용시의 설계원칙 및 AWS상에 구성하는 시스템이 베스트프랙티스에 따르고 있는지를 확인하기 위한 체크리스트로 구성되어 있다.

1. 운용상 우수성 : 비지니스에 있어서 가치를 지속적으로 제공하기 위해운용면에서 어떤점을 고찰해야할지가 기재되어있다.
2. 세큐리티 : AWS상에 구축한 시스템과데이터를 어떻게 보호할 것인지가 기재되어 있다.
3. 신뢰성 : AWS에 있어서 고장의방지, 고장시의 복구 등이 기재되어 있다.
4. 퍼포먼스 효율 : AWS에 있어서 컴퓨팅리소스의 효율적인 사용에 대해 기재되어 있다.
5. 코스트 최적화 : AWS상에서의 불필요한 코스트의 회피나, 최적화에 대해 기재되어 있다.
6. 지속가능성 : 에너지소비량을 줄여 지구환경의 영향을 최소한으로 하기위해 필요한 설계가 기재되어 있다.

### AWS 인프라스트럭쳐

- AWS는 리전과 AZ (Availability Zone)으로 구성되어 있다.
- 리전 : 물리적으로 떨어져있는 영역
- AZ : 리전 내에 있는 복수의 데이터센터의 집합체

시스템을 설계할 때 고가용성의 실현을 위해서는 복수의 AZ를 사용하는 **멀티AZ구성이 추천되며,**

DR (Disaster Recovery)사이트를 구축하는 경우에는 복수의 리전을 사용하는 **멀티리전**으로 시스템을 구성하는것이 좋다.

### 엣지로케이션

- CDN(Content Delivery Network)등의 글로벌 인프라 스트럭쳐서비스를 제공하기위한 거점으로, 전 세계에 설치되어있다.
- 유저는 물리적으로 가까운 엣지로케이션으로 부터 배포된 컨텐츠를 이용할 수 있으므로 네트워크의 물리적인 거리가 짧아져서 저레이팅의 통신이 가능해지고, 효율좋은 컨텐츠를 배포하는 시스템을 구축할 수 있다.

### VPC (Virtual Private CLoud)

- AWS상의 특정 리전에 독립하여 프라이빗 네트워크 공간을 작성하는 서비스.
- 특정 유저만 이용하는 프라이빗 네트워크

### 서브넷

- 서브넷은 VPC내 구성하는 네트워크세그먼트
- 유저는 서브넷을 만들 때 어떤 AZ로 구성할 지를 지정한다.
- 서브넷은 하나의 VPC에 대해 복수작성 가능하지만, VPC의 IP어드레스 범위내에CIDR을 지정할 필요가 있다.

<aside>
💡 CIDR(Classless Inter-Domain Routing) : IP어드레스의 클래스분류를 고려하지 않고, IP어드레스를 할당하는 방법. IP어드레스 공간을 효율적으로 이용할 수 있다.

</aside>

- 퍼블릭 서브넷
    - 인터넷과 통신이 가능한 서브넷으로, 인터넷과 통신할 필요가 있는 서버를 배치한다.
- 프라이빗 서브넷
    - 인터넷에 접속할 필요가 없는 서버를 배치한다.

### IGW (Internet Gateway)

- VPC내의 리소스로부터 인터넷에 액세스하기위한 게이트웨이로, IPv4 또는 IPv6의 트래픽을 제공한다.

### 라우팅 테이블

- 서브넷 내의 AWS리소스에 대해 정적인 라우팅을 정의하기 위한 것으로, 설정은 서브넷단위로 이루어진다.
- 루트테이블 내의 디폴트게이트웨이 0.0.0.0/0 라우팅에 인터넷게이트웨이를 지정한 서브넷이 퍼블릭서브넷, 인터넷게이트웨이를 지정하지 않은 서브넷이 프라이빗 서브넷으로 정의된다.

## NAT 게이트웨이 (Network Address Translation)

- 프라이빗 서브넷으로부터 인터넷에 접속하기 위한 네트워크 변환기능
- NAT인스턴스를 사용하는것보다 고가용성
- 프라이빗서브넷은의 EC2인스턴스는 인터넷에 직접 접속할 수 없으므로 퍼블릭 네트워크에있는 NAT게이트 웨이를 경유하여 인터넷에 접속한다.

## NAT 인스턴스

- 송신先・송신元 체크 기능을 무효화하고 자신에게로의 트래픽을 파기하는 설정을 해야한다.
- 단일장애점이 되지 않도록 다양화된 구조 검토 필요

## 네트워크 ACL (Access Control List)

- 서브넷단위로 설정하는 방화벽기능
- 주로 서브넷간의 통신을 제어할 때 사용
- VPC내에 구성된 서브넷당 하나의 네트워크ACL 설정 가능
- VPC생성시 디폴트 네트워크 ACL이 1개 준비되어있으며 **초기설정은 모든트래픽 허용**
- 커스텀네트워크ACL을 생성하는 경우엔 **초기설정은 모든트래픽 거부**
- 인바운드/아웃바운드에 대해 각각 허용할지 거부할지를 명시하여 통신제어 가능
- Stateless
- 각 룰에 번호가 할당되고 번호순으로 허가 또는 거부의 룰을 적용함